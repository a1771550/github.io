@using BLL.Helpers
@model BLL.Collocation
@{
	var culturename = CultureHelper.GetCurrentCulture();
	var posChi = Model.PosChi;
	var posJap = Model.PosJap;
	var wordChi = Model.WordChi;
	var wordJap = Model.WordJap;
	//var colWordChi = Model.ColWordChi;
	//var colWordJap = Model.ColWordJap;
	var posTrans = culturename.Contains("zh") ? posChi : posJap;
	var wordTrans = culturename.Contains("zh") ? wordChi : wordJap;
	//var colWordTrans = culturename.Contains("zh") ? colWordChi : colWordJap;
	var pattern = BLLHelper.GetPatternArray(Model.CollocationPattern);
	
	var collocationList = BLLHelper.GetCollocationListByWordPattern(Model.Word, Model.CollocationPattern);
}
@*<link href="~/css/wisewords/halflings.css" rel="stylesheet" />*@
<!--
	● abandon  放任; 放緃; 遺棄  (noun 名詞)
	搭配型態: adjective + noun (形容詞 + 名詞)
	~ passionate 熱情的
	例句：
	The students cheered with passionate abandon.
	學生們熱烈地盡情歡呼。
	(來源：CH)
	-->

<table id="WordList" class="table table-striped table-hover" style="color: #333333; border-collapse: collapse; width: 750px;">
	<tbody>
		<tr>
			<td>
				<div>
					<!-- for debug -->
					@Html.Hidden("collocationId", Model.CollocationId)
					@Html.Hidden("pos", Model.Pos)
					@Html.Hidden("wordId", Model.wordId)
					@Html.Hidden("colPosId", Model.colPosId)
					@Html.Hidden("word", Model.Word)
					@Html.Hidden("pattern", Model.CollocationPattern)
					<!-- end for debug -->
					<h4>
						<i class="halflings-icon book" style="vertical-align:baseline;"></i><span id="lblWord">&nbsp;@Model.Word</span>&nbsp;
						<span class="wordTransHeading">@(wordTrans)</span>
						&nbsp;<span id="lblpos">(@Model.Pos @posTrans)</span>
					</h4>
					<div class="indent-1em marginBottom05em colPatternHeadingText">
						<span>@Resources.CollocationPattern</span>
						<span class="">@pattern[0]</span>&nbsp;
						<span class="">@pattern[1]</span>
					</div>
					
					@foreach (var collocation in collocationList)
					{
						@Html.Partial("ColWordList", collocation);
					}
				</div>
			</td>
		</tr>
	</tbody>
</table>

